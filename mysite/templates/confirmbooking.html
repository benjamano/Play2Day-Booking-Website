
<script src="https://kit.fontawesome.com/9d35a24d36.js" crossorigin="anonymous"></script>
<head>
    <title>Confirm Your Booking</title>
    <link rel= "stylesheet" type= "text/css" href= "{{ url_for('static',filename='/styles/styles.css') }}"/>
    <link rel="icon" href="{{url_for('static', filename='/images/RedLogoIcon.png')}}"/>
</head>
<div class="sidebar">
    <a href="/account"><i class="fa-solid fa-house"></i>    Home</a>
    <a class="active" href="/account/newbooking"><i class="fa-solid fa-file-circle-plus"></i>    New Booking</a>
    <a href="/account/managebooking"><i class="fa-solid fa-pen-to-square"></i>    Manage Bookings</a>
    <div class="dropdown">
        <a class="dropdown-toggle" href="#" id="play2dayDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
            <i class="fa-solid fa-circle-info"></i> Play2Day Information
        </a>
        <div class="dropdown-menu" aria-labelledby="play2dayDropdown">
            <a class="dropdown-item" href="/centerinfo"><i class="fa-solid fa-circle-info"></i> Home</a>
            <a class="dropdown-item" href="/centerinfo/lasertag"><i class="fa-solid fa-gun"></i> Laser Tag</a>
            <a class="dropdown-item" href="/centerinfo/parties"><i class="fa-solid fa-cake-candles"></i> Parties</a>
            <a class="dropdown-item" href="/centerinfo/menus"><i class="fa-solid fa-mug-hot"></i> Food Menu</a>
            <a class="dropdown-item" href="/centerinfo/contact" onmouseover="this.querySelector('i').className='fa-solid fa-envelope-open-text'" onmouseout="this.querySelector('i').className='fa-regular fa-envelope'"><i class="fa-regular fa-envelope"></i>    Contact Us</a>
        </div>
    </div>
    <a href="/account/editaccountdetails" onmouseover="this.querySelector('i').className='fa-solid fa-gear fa-spin'" onmouseout="this.querySelector('i').className='fa-solid fa-gear'"><i class="fa-solid fa-gear"></i>    Edit Account Details</a>
    <a href="/logout" onmouseover="this.querySelector('i').className='fa-solid fa-door-open'" onmouseout="this.querySelector('i').className='fa-solid fa-door-closed'"><i class="fa-solid fa-door-closed"></i>   Log Out</a>
    <button class="darkmodebutton"onclick="ToggleDarkMode()">Toggle Dark Mode</button>
</div>
<canvas id="poundCanvas"></canvas>
<center>
    <div class="content">
        <img class="one" onclick = "location.href = 'https://benjamano.pythonanywhere.com/account';" src="{{ url_for('static',filename='/images/LongerRedLogo.png') }}"/>
        <div class="pair">
            <body>
                <h5>
                    Booking Confirmation
                </h5>
                <center>
                    <form action="#" method="post">

                        <h2>
                           Session: {{ PrivateHireType }}
                            {% if PrivateHireType == '' %}
                                {{ BookingType }}
                            {% endif %}
                        </h2>
                        <h2>
                            Booking Date: {{BookingDate}}
                        </h2>
                        <h2>
                            Booking Time: {{BookingTime}}
                        </h2>
                        <h2>
                            Number of Children: {{NumberChildren}}
                        </h2>
                        <h2>
                            Number of Adults: {{NumberAdults}}
                        </h2>
                        <h2>
                            Optional Extras: {{ExtraNotes}}
                        </h2>
                        <h2>
                            Final Price: Â£{{Price}}
                        </h2>
                        <p>
                            <input type="submit" name="Submit" value="Confirm Details"/>
                        </p>
                    </form>
                    <progress value="100" max="100"> 100% </progress>
                </center>
            </body>
        </div>
    </div>
</center>
{% with messages = get_flashed_messages() %}
{% if messages %}
    <div class="popup">
        {% for message in messages %}
            {{ message }}
        {% endfor %}
    </div>
{% endif %}
{% endwith %}
<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Other existing code...

        document.querySelector("form").addEventListener("submit", function (event) {
            event.preventDefault(); // Prevent the form from submitting immediately

            // Start the raining effect
            startRainingPoundSigns();
            
            // Optionally, you can wait for the animation to complete before submitting the form
            setTimeout(function () {
                document.querySelector("form").submit();
            }, 5000); // Adjust the delay according to your preference
        });

        function startRainingPoundSigns() {
            // Get the canvas element
            var canvas = document.getElementById("poundCanvas");
            var ctx = canvas.getContext("2d");

            // Set canvas size
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;

            // Define pound sign image
            var poundSignImage = new Image();
            poundSignImage.src = "path/to/pound-sign-image.png"; // Replace with the path to your pound sign image

            // Array to store pound signs
            var poundSigns = [];

            // Create pound signs
            for (var i = 0; i < 50; i++) {
                poundSigns.push({
                    x: Math.random() * canvas.width,
                    y: Math.random() * canvas.height,
                    speed: Math.random() * 5 + 1,
                });
            }

            // Function to draw pound signs
            function draw() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);

                for (var i = 0; i < poundSigns.length; i++) {
                    ctx.drawImage(poundSignImage, poundSigns[i].x, poundSigns[i].y, 20, 20); // Adjust the size as needed
                    poundSigns[i].y += poundSigns[i].speed;

                    // Reset pound sign position if it goes below the screen
                    if (poundSigns[i].y > canvas.height) {
                        poundSigns[i].y = 0;
                        poundSigns[i].x = Math.random() * canvas.width;
                    }
                }

                requestAnimationFrame(draw);
            }

            // Start the animation
            draw();
        }

        function ToggleDarkMode() {
        var bodyElement = document.body;
        var sidebar = document.querySelector(".sidebar");
        var tableElements = document.querySelectorAll("table, th, td");
        var fontsToStyle = document.querySelectorAll(".dark-font");
        var pairElement = document.querySelector(".pair");
        var numberpairElement = document.querySelector(".numberpair");
        var darkmodebuttonElement = document.querySelector(".darkmodebutton");
    
        var isDarkMode = bodyElement.classList.contains("dark-mode");
    
        // Toggle the dark mode
        isDarkMode = !isDarkMode;
    
        bodyElement.classList.toggle("dark-mode", isDarkMode);
        if (sidebar) sidebar.classList.toggle("dark-mode", isDarkMode);
    
        tableElements.forEach(function (el) {
            el.classList.toggle("dark-mode", isDarkMode);
        });
    
        fontsToStyle.forEach(function (el) {
            el.classList.toggle("dark-mode", isDarkMode);
        });
    
        if (pairElement) pairElement.classList.toggle("dark-mode", isDarkMode);
        if (numberpairElement) numberpairElement.classList.toggle("dark-mode", isDarkMode);
    
        // Update the local storage with the new dark mode state
        localStorage.setItem("darkMode", isDarkMode.toString());
        }
    
        function applyInitialDarkMode() {
        var isDarkMode = localStorage.getItem("darkMode") === "true";
        var bodyElement = document.body;
        var sidebarElement = document.querySelector(".sidebar");
    
        if (bodyElement) bodyElement.classList.toggle("dark-mode", isDarkMode);
        if (sidebarElement) sidebarElement.classList.toggle("dark-mode", isDarkMode);
    
        var fontsToStyle = document.querySelectorAll(".dark-font");
        fontsToStyle.forEach(function (el) {
            el.classList.toggle("dark-mode", isDarkMode);
        });
    
        var pairElement = document.querySelector(".pair");
        if (pairElement) pairElement.classList.toggle("dark-mode", isDarkMode);
    
        var numberpairElement = document.querySelector(".numberpair");
        if (numberpairElement) numberpairElement.classList.toggle("dark-mode", isDarkMode);

        var numberpairElement = document.querySelector(".darkmodebutton");
        if (numberpairElement) numberpairElement.classList.toggle("dark-mode", isDarkMode);
    
        var tableElements = document.querySelectorAll("table, th, td");
        tableElements.forEach(function (el) {
            el.classList.toggle("dark-mode", isDarkMode);
        });
        }
    });
  
    applyInitialDarkMode();
  </script>